# 练习题

## 1. 事务

1. 事务并发处理可能存在的三种异常有哪些？什么是脏读、不可重复读和幻读？

   SQL-92 标准中已经对 3 种异常情况进行了定义，这些异常情况级别分别为脏读（Dirty Read）、不可重复读（Nnrepeatable Read）和幻读（Phantom Read）。

   脏读：读到了其他事务还没有提交的数据。

   不可重复读：对某数据进行读取，发现两次读取的结果不同，也就是说没有读到相同的内容。这是因为有其他事务对这个数据同时进行了修改或删除。

   幻读：事务 A 根据条件查询得到了 N 条数据，但此时事务 B 更改或者增加了 M 条符合事务 A 查询条件的数据，这样当事务 A 再次进行查询的时候发现会有 N+M 条数据，产生了幻读。

   ```sql
   -- 脏读: 
   # 1.插入数据, 未提交:
   SQL> BEGIN;
   SQL> INSERT INTO heros_temp values(4, '吕布');
   # 2.查询
   SQL> SELECT * FROM heros_temp;
   # 3. 查询结果有吕布(还没有提交却读到了)
   
   -- 不可重复读:
   # 1.查询id=1的英雄
   SQL> SELECT name FROM heros_temp WHERE id = 1;
   # 2.
   
   
   
   ```

   

2. 针对可能存在的异常情况，四种事务隔离的级别分别是什么？

   

3. 如何使用 MySQL 客户端来模拟脏读、不可重复读和幻读？



